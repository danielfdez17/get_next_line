#include <fcntl.h>
#include <unistd.h>
#include <stdlib.h>
#include <stdio.h>
#include <assert.h>
#include <string.h>
#include "get_next_line.h"
#include <lastlog.h>

void	print_line(char * line)
{
	printf("\n\n------ %s ------\n", __func__);
	printf("strlen: %lu\n", ft_strlen(line));
	printf("%s", line);
	printf("|");
	printf("\n------ %s ------\n\n", __func__);
}

int	main(void)
{
	// printf("%s|\n", get_next_line(0));
	int fd;
	char *line;
	// fd = open("./files/empty.txt", O_RDONLY);
	// if (fd != -1)
	// {
	// 	line = get_next_line(fd);
	// 	print_line(line);
	// 	assert(line == NULL);
	// 	free(line);
	// 	close(fd);
	// }
	fd = open("./files/nl.txt", O_RDONLY);
	if (fd != -1)
	{
		// line = get_next_line(fd);
		// while (line)
		// {
		// 	print_line(line);
		// 	free(line);
		// 	line = get_next_line(fd);
		// }
		// free(line);
		line = get_next_line(fd);
		print_line(line);
		assert(strcmp(line, "\n") == 0);
		free(line);
		line = get_next_line(fd);
		print_line(line);
		assert(line == NULL);
		free(line);
		close(fd);
	}
	// fd = open("./files/41_no_nl.txt", O_RDONLY);
	// if (fd != -1)
	// {
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "01234567890123456789012345678901234567890") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(line == NULL);
	// 	free(line);
	// 	close(fd);
	// }
	// fd = open("./files/41_with_nl.txt", O_RDONLY);
	// if (fd != -1)
	// {
	// 	// printf("\n%s|", line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "0123456789012345678901234567890123456789\n") == 0);
	// 	print_line(line);
	// 	free(line); 
	// 	line = get_next_line(fd);
	// 	print_line(line);
	// 	assert(strcmp(line, "0") == 0);
	// 	free(line); 
	// 	line = get_next_line(fd);
	// 	assert(line == NULL);
	// 	free(line);
	// 	close(fd);
	// }
	// fd = open("./files/42_no_nl.txt", O_RDONLY);
	// if (fd != -1)
	// {
	// 	// printf("\n%s|", line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "012345678901234567890123456789012345678901") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(line == NULL);
	// 	free(line);
	// 	close(fd);
	// }
	// fd = open("./files/42_with_nl.txt", O_RDONLY);
	// if (fd != -1)
	// {
	// 	// printf("\n%s|", line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "01234567890123456789012345678901234567890\n") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "1") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(line == NULL);
	// 	free(line);
	// 	close(fd);
	// }
	// fd = open("./files/43_no_nl.txt", O_RDONLY);
	// if (fd != -1)
	// {
	// 	// printf("\n%s|", line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "0123456789012345678901234567890123456789012") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(line == NULL);
	// 	free(line);
	// 	close(fd);
	// }
	// fd = open("./files/43_with_nl.txt", O_RDONLY);
	// if (fd != -1)
	// {
	// 	// printf("\n%s|", line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "012345678901234567890123456789012345678901\n") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "2") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(line == NULL);
	// 	free(line);
	// 	close(fd);
	// }
	// fd = open("./files/multiple_nlx5.txt", O_RDONLY);
	// if (fd != -1)
	// {
	// 	// printf("\n%s|", line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "\n") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "\n") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "\n") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "\n") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "\n") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(line == NULL);
	// 	free(line);
	// 	close(fd);
	// }
	// fd = open("./files/multiple_line_no_nl.txt", O_RDONLY);
	// if (fd != -1)
	// {
	// 	// printf("\n%s|", line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "01234567890123456789012345678901234567890\n") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "987654321098765432109876543210987654321098\n") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "0123456789012345678901234567890123456789012\n") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "987654321098765432109876543210987654321098\n") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "01234567890123456789012345678901234567890") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(line == NULL);
	// 	free(line);
	// 	close(fd);
	// }
	// fd = open("./files/multiple_line_with_nl.txt", O_RDONLY);
	// if (fd != -1)
	// {
	// 	// printf("\n%s|", line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "9876543210987654321098765432109876543210\n") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "01234567890123456789012345678901234567890\n") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "987654321098765432109876543210987654321098\n") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "01234567890123456789012345678901234567890\n") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "9876543210987654321098765432109876543210\n") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(line == NULL);
	// 	free(line);
	// 	line = get_next_line(fd);free(line);
	// 	close(fd);
	// }
	// fd = open("./files/alternate_line_nl_no_nl.txt", O_RDONLY);
	// if (fd != -1)
	// {
	// 	// printf("\n%s|", line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "98765432109876543210987654321098765432109\n") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "\n") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "012345678901234567890123456789012345678901\n") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "\n") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "9876543210987654321098765432109876543210987\n") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "\n") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "012345678901234567890123456789012345678901\n") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "\n") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "98765432109876543210987654321098765432109") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(line == NULL);
	// 	free(line);
	// 	close(fd);
	// }
	// fd = open("./files/alternate_line_nl_with_nl.txt", O_RDONLY);
	// if (fd != -1)
	// {
	// 	// printf("\n%s|", line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "01234567890123456789012345678901234567890\n") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "\n") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "987654321098765432109876543210987654321090\n") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "\n") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "0123456789012345678901234567890123456789012\n") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "\n") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "987654321098765432109876543210987654321090\n") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "\n") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "01234567890123456789012345678901234567890\n") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(line == NULL);
	// 	free(line);
	// 	close(fd);
	// }
	// fd = open("./files/big_line_no_nl.txt", O_RDONLY);
	// if (fd != -1)
	// {
	// 	// printf("\n%s|", line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(line == NULL);
	// 	free(line);
	// 	close(fd);
	// }
	// fd = open("./files/big_line_with_nl.txt", O_RDONLY);
	// if (fd != -1)
	// {
	// 	// printf("\n%s|", line);
	// 	line = get_next_line(fd);
	// 	assert(strcmp(line, "0123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789012345678901234567890123456789\n") == 0);
	// 	free(line);
	// 	line = get_next_line(fd);
	// 	assert(line == NULL);
	// 	free(line);
	// 	close(fd);
	// }
	// fd = 0;
	// line = get_next_line(fd);
	// assert(strcmp(line, "01234567890123456789012345678901234567890\n") == 0);
	// free(line);
	// line = get_next_line(fd);
	// assert(strcmp(line, "\n") == 0);
	// free(line);
	// line = get_next_line(fd);
	// assert(strcmp(line, "987654321098765432109876543210987654321090\n") == 0);
	// free(line);
	// line = get_next_line(fd);
	// assert(strcmp(line, "\n") == 0);
	// free(line);
	// line = get_next_line(fd);
	// assert(strcmp(line, "0123456789012345678901234567890123456789012\n") == 0);
	// free(line);
	// line = get_next_line(fd);
	// assert(strcmp(line, "\n") == 0);
	// free(line);
	// line = get_next_line(fd);
	// assert(strcmp(line, "987654321098765432109876543210987654321090\n") == 0);
	// free(line);
	// line = get_next_line(fd);
	// assert(strcmp(line, "\n") == 0);
	// free(line);
	// line = get_next_line(fd);
	// assert(strcmp(line, "01234567890123456789012345678901234567890\n") == 0);
	// free(line);
	// line = get_next_line(fd);
	// assert(strcmp(line, "\n") == 0);
	// free(line);
	return (0);
}
// ccw -D BUFFER_SIZE=1024 *.c -o a.out && valgrind ./a.out